# Directory Architecture

This README provides an in-depth overview of the contents under the `kenta/` directory.

## Top-Level Contents
- `01_example/`: Minimal Snakemake workflow demonstrating how to stage input data and convert it to a BAM file.
- `environment.yml`: Shared Conda environment specification for the broader project.

## `01_example/` Layout
`01_example` showcases a small Snakemake project. Its internal structure is organised as follows:

### `config/`
Holds configuration values consumed by the workflow. `config.yaml` is currently a placeholder for global settings.

### `profile/`
Contains a Snakemake execution profile. `config.yaml` specifies runtime behaviour such as number of cores, enabling Conda, the Conda frontend (`mamba`), and latency wait.

### `resources/`
Stores example input data generated by the workflow. `01_input.sam` is a tiny SAM file created by the `mk_input` rule and later processed into a BAM file.

### `slurm/`
Cluster profile for submitting jobs to SLURM. `config.yaml` limits parallel jobs and mirrors the Conda settings used in the local profile.

### `test.slurm`
Standalone SLURM submission script used to run the workflow on an HPC cluster. It sets up job resources and executes Snakemake with the above SLURM profile.

### `workflow/`
Actual Snakemake workflow definition. Important subfolders include:

- `Snakefile`: Entry point that loads configuration and assembles rules from submodules.
- `envs/`: Conda environment YAMLs for individual rules.
  - `mk_input.yml` provides Python and timing tools for generating the SAM file.
  - `mk_output.yml` supplies `samtools` and timing tools for converting SAM to BAM.
- `logs/`: Captured `stdout` and `stderr` for each rule (`mk_input` and `mk_output`).
- `rules/`: Modular rule definitions.
  - `mk_input.smk` writes `01_input.sam` by executing a helper Python script.
  - `mk_output.smk` transforms the SAM file into a BAM file using `samtools`.
- `scripts/`: Supporting scripts used by rules.
  - `mk_input.py` generates the example SAM file and demonstrates capturing logs.

This structure illustrates how a Snakemake project can be organised, separating configuration, execution profiles, workflow logic, and auxiliary resources.
